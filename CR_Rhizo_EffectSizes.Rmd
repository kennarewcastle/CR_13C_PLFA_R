---
title: "Costa Rica Rhizosphere Manipulation Effect Sizes"
author: "Kenna Rewcastle"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r load_packages, include=FALSE}
library(dplyr)
library(vegan)
library(ggplot2)
```

```{r input_data, include=FALSE}

13C_CO2<-read.csv("Costa Rica Master sheet annotated.csv")
13C_PLFA
13C_SpecResp
Resp<-
PLFA<-
SpecResp<-
```


```{r function_mean_rhizo_calc, include=FALSE}
########################################################################
# FUNCTION: Rhizo_Variable_Means
# Calculates mean, sd, n for each rhizosphere manipulation treatment, flexible response variable, in order to calculate standardize mean differences
# input: data = data frame with the following columns: Core_ID,Tree,Rhizosphere_Manipulation,Var (Var = response variable)
# output: data frame with above summary statistics
#-----------------------------------------------------------------------

Rhizo_Variable_Means<-function(data) {
  
  names(data)<-c("Core_ID","Tree","Rhizosphere_Manipulation",paste(names(data)[4]))
  data$Rhizosphere_Manipulation<-as.factor(data$Rhizosphere_Manipulation)
  
  # Vectors for sample size of each rhizosphere manipulation treatment group
  n1<-c()
  n2<-c()
  n3<-c()
  
  # Vectors for mean of each treatment group
  m1<-c()
  m2<-c()
  m3<-c()
  
  # Vectors for standard deviation of each treatment group
  sd1<-c()
  sd2<-c()
  sd3<-c()
  
  # Creating separate data frames for each tree species
  goeth<-filter(data,Tree=="G")
  penta<-filter(data,Tree=="P")
  
  ## NOTE: row 1 will contain Goethalsia data, row 2 will contain Pentaclethra data
  
  # Calculate stats for control group +R+M (rhizosphere exclusion 3)
    ## GOETHALSIA
    n3[1]<-nrow(goeth[which(goeth$Rhizosphere_Manipulation=="3"),])
    m3[1]<-mean(goeth[which(goeth$Rhizosphere_Manipulation=="3"),4],na.rm=TRUE)
    sd3[1]<-sd(goeth[which(goeth$Rhizosphere_Manipulation=="3"),4],na.rm=TRUE)
    
    ## PENTACLETHRA
    n3[2]<-nrow(penta[which(penta$Rhizosphere_Manipulation=="3"),])
    m3[2]<-mean(penta[which(penta$Rhizosphere_Manipulation=="3"),4],na.rm=TRUE)
    sd3[2]<-sd(penta[which(penta$Rhizosphere_Manipulation=="3"),4],na.rm=TRUE)
  
  # Calculate stats for +R-M treatment (rhizosphere exclusion 2)
    ## GOETHALSIA
    n2[1]<-nrow(goeth[which(goeth$Rhizosphere_Manipulation=="2"),])
    m2[1]<-mean(goeth[which(goeth$Rhizosphere_Manipulation=="2"),4],na.rm=TRUE)
    sd2[1]<-sd(goeth[which(goeth$Rhizosphere_Manipulation=="2"),4],na.rm=TRUE)
    
    ## PENTACLETHRA
    n2[2]<-nrow(penta[which(penta$Rhizosphere_Manipulation=="2"),])
    m2[2]<-mean(penta[which(penta$Rhizosphere_Manipulation=="2"),4],na.rm=TRUE)
    sd2[2]<-sd(penta[which(penta$Rhizosphere_Manipulation=="2"),4],na.rm=TRUE)
  
 # Calculate stats for -R-M treatment (rhizosphere exclusion 1)
    ## GOETHALSIA
    n1[1]<-nrow(goeth[which(goeth$Rhizosphere_Manipulation=="1"),])
    m1[1]<-mean(goeth[which(goeth$Rhizosphere_Manipulation=="1"),4],na.rm=TRUE)
    sd1[1]<-sd(goeth[which(goeth$Rhizosphere_Manipulation=="1"),4],na.rm=TRUE)
    
    ## PENTACLETHRA
    n1[2]<-nrow(penta[which(penta$Rhizosphere_Manipulation=="1"),])
    m1[2]<-mean(penta[which(penta$Rhizosphere_Manipulation=="1"),4],na.rm=TRUE)
    sd1[2]<-sd(penta[which(penta$Rhizosphere_Manipulation=="1"),4],na.rm=TRUE)
  
  outDat<-data.frame("Tree_Species"=c("G","P"),n3,m3,sd3,n2,m2,sd2,n1,m1,sd1)  
  
  return(outDat)
}

```

```{r effect_size_inputs}
# 13C-CO2
leaf_CO2_dat<-

leaf_CO2_SMD_in<-
```

